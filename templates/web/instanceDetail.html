{% extends "web/instance.Coat.html" %}

{% block css %}
    <link href="https://cdn.bootcss.com/datatables/1.10.16/css/dataTables.bootstrap.min.css" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="row">
        <ol class="col-sm-4 breadcrumb pull-left">
            <li>{{ ins_title }}</li>
        </ol>
    </div>

    <!-- 使用id="graph" data-ins_id获取 instance.id 为了方便给 class="graph"生成图表 -->
    <div id="graph" data-ins_id="{{ ins_id }}" class="div">
        <table id="data_list" class="table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
            <tr>
                <th>序号</th>
                <th>实例</th>
                <th>备份方式</th>
                <th>备份大小/Mb</th>
                <th>备份耗时</th>
                <th>备份时间</th>
                <th>统计时间</th>
            </tr>
            </thead>
            <tbody>
            {% for i in size_res %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ i.instance_obj.db_usage }}</td>
                    <td>{{ i.tactics }}</td>
                    <td>{{ i.size }}</td>
                    <td>{{ i.time_cost }}</td>
                    <td>{{ i.agent_datetime }}</td>
                    <td>{{ i.create_time }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <div id="{{ ins_id }}" class="graph"></div>
{% endblock %}

{#{% block ext_js %}#}
{#    <script src="{{ url_for('static', filename='js/src/Graph.js') }}"></script>#}
    {#<script src="{{ url_for('static', filename='js/src/Single.js') }}"></script>#}
{#    <script src="https://cdn.bootcss.com/datatables/1.10.16/js/jquery.dataTables.min.js"></script>#}
{#    <script src="https://cdn.bootcss.com/datatables/1.10.16/js/dataTables.bootstrap.min.js"></script>#}
{#    <script>#}
{#        $(document).ready(function () {#}
{#            $('#data_list').DataTable();#}
{##}
{#            (function Main() {#}
{#                var ins_id = $('#graph').data('ins_id');#}
{#                getData(ins_id, '');#}
{#            })()#}
{#        });#}
{#    </script>#}
{#{% endblock %}#}
